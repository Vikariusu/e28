(function(e){function t(t){for(var i,a,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],i=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(i=!1)}i&&(s.splice(t--,1),e=a(a.s=r[0]))}return e}var i={},n={app:0},s=[];function a(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=i,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var p=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"0f86":function(e,t,r){},"11a7":function(e,t,r){"use strict";var i=r("a4f8"),n=r("e879"),s=(r("8c41"),r("2877")),a=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"17706637",null);t["default"]=a.exports},"1e62":function(e,t,r){},"285b":function(e,t,r){var i={"./ar":"8b23","./ar.js":"8b23","./az":"0fd6","./az.js":"0fd6","./be":"a1de","./be.js":"a1de","./bg":"102b","./bg.js":"102b","./bs":"d1c3","./bs.js":"d1c3","./ca":"1b37","./ca.js":"1b37","./cs":"8981","./cs.js":"8981","./cy":"3ced","./cy.js":"3ced","./da":"7f8d","./da.js":"7f8d","./de":"be39","./de.js":"be39","./el":"1866","./el.js":"1866","./en":"6788","./en.js":"6788","./es":"8b4b","./es.js":"8b4b","./et":"df57","./et.js":"df57","./eu":"b9bc","./eu.js":"b9bc","./fa":"83c4","./fa.js":"83c4","./fi":"1137","./fi.js":"1137","./fr":"2849","./fr.js":"2849","./hr":"2e0c","./hr.js":"2e0c","./hu":"62a6","./hu.js":"62a6","./id":"7fc0","./id.js":"7fc0","./it":"d6e0","./it.js":"d6e0","./ja":"7d74","./ja.js":"7d74","./ka":"14c9","./ka.js":"14c9","./ko":"58ac","./ko.js":"58ac","./lt":"845c","./lt.js":"845c","./lv":"c6c3","./lv.js":"c6c3","./mk":"9fc9","./mk.js":"9fc9","./mn":"a3d2","./mn.js":"a3d2","./ms":"f45d","./ms.js":"f45d","./nb_NO":"bfd4","./nb_NO.js":"bfd4","./nl":"7ab1","./nl.js":"7ab1","./pl":"8ef3","./pl.js":"8ef3","./pt":"61d8","./pt.js":"61d8","./pt_BR":"1911","./pt_BR.js":"1911","./ro":"937f","./ro.js":"937f","./ru":"7f57","./ru.js":"7f57","./se":"c47d","./se.js":"c47d","./sl":"7f0b","./sl.js":"7f0b","./sq":"f373","./sq.js":"f373","./sr":"6f79","./sr.js":"6f79","./sv":"0c56","./sv.js":"0c56","./tr":"4bda","./tr.js":"4bda","./ua":"626a","./ua.js":"626a","./uk":"0874","./uk.js":"0874","./vi":"ee20","./vi.js":"ee20","./zh":"0ede","./zh.js":"0ede","./zh_TW":"4690","./zh_TW.js":"4690"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=s,e.exports=n,n.id="285b"},"3c05":function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);r("45fc"),r("96cf");var i=r("1da1"),n=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav-wrapper"},[r("nav",[r("router-link",{attrs:{to:"/"}},[r("h1",[e._v("Best cooking recipes")])]),r("ul",[r("li",e._l(e.links,(function(t){return r("router-link",{key:t,staticStyle:{padding:"10px"},attrs:{to:e.paths[t],exact:""}},[e._v(e._s(t))])})),1)])],1),r("router-view",{staticClass:"page-wrapper",attrs:{recipes:e.recipes},on:{"update-recipes":function(t){return e.fetchRecipes()}}})],1)},a=[],o=r("bc3a").create({baseURL:"http://e28-api.wtomaszewska.me",responseType:"json"}),c={name:"App",data:function(){return{page:"home",recipes:[],links:["Add a Recipe","Login","Register"],paths:{"Add a Recipe":"/add",Login:"/login",Register:"/register"}}},methods:{fetchRecipes:function(){var e=this;console.log(this.recipes),o.get("http://e28-api.wtomaszewska.me/recipe").then((function(t){e.recipes=t.data.recipe,console.log(t.data)}))}},mounted:function(){this.$store.dispatch("fetchRecipes")}},u=c,p=(r("034f"),r("2877")),l=Object(p["a"])(u,s,a,!1,null,null,null),d=l.exports,f=r("8c4f"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"recipe-wrapper"},e._l(e.recipes,(function(e,t){return r("router-link",{key:t,attrs:{to:"/recipes/"+e.id,exact:""}},[r("recipe-card",{attrs:{recipe:e}})],1)})),1)},v=[],g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"recipe-card-wrapper"},[r("img",{attrs:{src:[e.recipe.imageURL?e.recipe.imageURL:"https://images.unsplash.com/photo-1466637574441-749b8f19452f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1400&q=80"]}}),r("div",[r("h4",[e._v(e._s(e.recipe.title))]),r("p",[e._v(e._s(e.truncatedDesc)+" ...")])])])},h=[],b=(r("a4d3"),r("e01a"),r("a15b"),r("a434"),r("ac1f"),r("1276"),{name:"",props:["recipe"],data:function(){return{}},computed:{truncatedDesc:function(){return this.recipe.description.split(" ").splice(0,8).join(" ")}}}),_=b,w=(r("c890"),Object(p["a"])(_,g,h,!1,null,"65a7e13e",null)),j=w.exports,R={components:{RecipeCard:j},name:"",data:function(){return{}},computed:{recipes:function(){return this.$store.state.recipes}}},y=R,x=(r("6cf6"),Object(p["a"])(y,m,v,!1,null,null,null)),k=x.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.currentRecipe?r("div",{staticClass:"recipe-detail-wrapper"},[r("div",{staticClass:"column"},[r("h2",[r("div",{staticClass:"favorite-icon-wrapper",on:{click:e.toggleFavorite}},[r("i",{staticClass:"fas favorite-icon fa-heart"})]),e._v(" "+e._s(e.currentRecipe.title)+" ")]),r("p",[e._v("Description")]),r("p",[e._v(e._s(e.currentRecipe.description))]),r("p",[e._v("Ingredients")]),r("div",[e._v(e._s(e.currentRecipe.ingredients))])]),r("div",{staticClass:"column"},[r("img",{attrs:{src:e.imageSource}}),r("p",[e._v("Portion for: "+e._s(e.currentRecipe.portions))]),r("p",[e._v("Time: "+e._s(e.currentRecipe.time))])])]):e._e()])},$=[],C=r("5530"),P={props:["id","recipes"],data:function(){return{ingredients:[]}},methods:{toggleFavorite:function(e){var t=this;console.log(this.currentRecipe),e.preventDefault(),o.put("http://e28-api.wtomaszewska.me/recipe/".concat(this.currentRecipe.id),Object(C["a"])(Object(C["a"])({},this.currentRecipe),{},{isFavorite:"true"===this.currentRecipe.isFavorite})).then((function(e){t.currentRecipe=e.data.recipe,console.log(t.currentRecipe)})),console.log("toggled!")}},computed:{imageSource:function(){return this.currentRecipe.imageURL?this.currentRecipe.imageURL:"https://images.unsplash.com/photo-1466637574441-749b8f19452f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1400&q=80"},isFavorite:function(){return this.currentRecipe.isFavorite},notFound:function(){return null===this.currentRecipe},currentRecipe:function(){return console.log(this.$store.getters.getRecipeById(this.id)),this.$store.getters.getRecipeById(this.id)}}},L=P,U=(r("d3de"),Object(p["a"])(L,O,$,!1,null,"2296e8ee",null)),E=U.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"recipe-form"},[r("h2",[e._v("Add a Recipe")]),r("div",[r("label",{attrs:{for:"title"}},[e._v("Title")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.title,expression:"recipe.title"}],attrs:{type:"text",id:"title"},domProps:{value:e.recipe.title},on:{input:function(t){t.target.composing||e.$set(e.recipe,"title",t.target.value)}}})]),e.errors&&"title"in e.errors?r("div",e._l(e.errors.title,(function(t,i){return r("div",{key:i,staticClass:"form-warning",attrs:{id:"title"}},[e._v(" "+e._s(t)+" ")])})),0):e._e(),r("div",[r("label",{attrs:{for:"description"}},[e._v("Description")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.description,expression:"recipe.description"}],attrs:{type:"textarea",id:"description"},domProps:{value:e.recipe.description},on:{input:function(t){t.target.composing||e.$set(e.recipe,"description",t.target.value)}}})]),e.errors&&"description"in e.errors?r("div",e._l(e.errors.description,(function(t,i){return r("div",{key:i,staticClass:"form-warning"},[e._v(" "+e._s(t)+" ")])})),0):e._e(),r("div",[r("label",{attrs:{for:"imageURL"}},[e._v("Image URL")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.imageURL,expression:"recipe.imageURL"}],attrs:{type:"textarea",id:"imageURL"},domProps:{value:e.recipe.imageURL},on:{input:function(t){t.target.composing||e.$set(e.recipe,"imageURL",t.target.value)}}})]),e.errors&&"imageURL"in e.errors?r("div",e._l(e.errors.imageURL,(function(t,i){return r("div",{key:i,staticClass:"form-warning"},[e._v(" "+e._s(t)+" ")])})),0):e._e(),r("div",[r("label",{attrs:{for:"portions"}},[e._v("Portions")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.portions,expression:"recipe.portions"}],attrs:{type:"text",id:"portions"},domProps:{value:e.recipe.portions},on:{input:function(t){t.target.composing||e.$set(e.recipe,"portions",t.target.value)}}})]),e.errors&&"portions"in e.errors?r("div",e._l(e.errors.portions,(function(t,i){return r("div",{key:i,staticClass:"form-warning"},[e._v(" "+e._s(t)+" ")])})),0):e._e(),r("div",[r("label",{attrs:{for:"time"}},[e._v("Time (in minutes)")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.time,expression:"recipe.time"}],attrs:{type:"text",id:"time"},domProps:{value:e.recipe.time},on:{input:function(t){t.target.composing||e.$set(e.recipe,"time",t.target.value)}}})]),e.errors&&"time"in e.errors?r("div",e._l(e.errors.time,(function(t,i){return r("div",{key:i,staticClass:"form-warning"},[e._v(" "+e._s(t)+" ")])})),0):e._e(),r("div",[r("label",{attrs:{for:"ingredients"}},[e._v("Ingredients")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.ingredients,expression:"recipe.ingredients"}],attrs:{type:"text",id:"ingredients"},domProps:{value:e.recipe.ingredients},on:{input:function(t){t.target.composing||e.$set(e.recipe,"ingredients",t.target.value)}}})]),e.errors&&"ingredients"in e.errors?r("div",e._l(e.errors.ingredients,(function(t,i){return r("div",{key:i,staticClass:"form-warning"},[e._v(" "+e._s(t)+" ")])})),0):e._e(),r("button",{staticClass:"btn-submit add-recipe",on:{click:e.addRecipe}},[e._v("Add Recipe")])])},q=[],z=r("1c4a"),D=r.n(z),S={data:function(){return{recipe:{title:"",description:"",imageURL:"",portions:null,time:null,ingredients:""},errors:[]}},methods:{addRecipe:function(){var e=this;this.validate()&&o.post("http://e28-api.wtomaszewska.me/recipe",this.recipe).then((function(t){t.data.errors?console.log(t.data.errors):e.$emit("update-recipes")}))},validate:function(){var e=new D.a(this.recipe,{title:"required|between:3,100",description:"required|between:8,800",imageURL:"url",portions:"required:numeric",time:"required:numeric",ingredients:"required|between:3,400"});return e.fails()?this.errors=e.errors.all():this.errors=null,e.passes()}}},T=S,B=(r("ff92"),Object(p["a"])(T,N,q,!1,null,"8dca94f4",null)),F=B.exports,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("Hello again!")]),r("form",{staticClass:"login-form-wrapper"},[r("div",[r("label",[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",[r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("button",{staticClass:"btn-submit",on:{click:e.login}},[e._v("Log in")])])])},I=[],M={name:"",data:function(){return{email:"",password:""}},methods:{login:function(){var e=this;o.post("login",{email:this.email,password:this.password}).then((function(t){t.data.authenticated?e.$store.commit("setUser",t.data.user).then((function(){return e.$router.push("/")})):console.log("Something went wrong.")}))}}},J=M,W=(r("9923"),Object(p["a"])(J,A,I,!1,null,null,null)),H=W.exports,Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("Join our cooking-obsessed community")]),r("form",[r("div",[r("label",[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),r("div",[r("label",[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",[r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("button",{staticClass:"btn-submit",on:{click:e.register}},[e._v("Register")])])])},Y=[],G=(r("b0c0"),{name:"",data:function(){return{name:"",email:"",password:""}},methods:{register:function(e){var t=this;e.preventDefault(),o.post("register",{email:this.email,password:this.password,name:this.name}).then((function(e){e.data.success&&(t.$store.commit("setUser",e.data.user),t.$router.push("/"))}))}}}),K=G,V=Object(p["a"])(K,Q,Y,!1,null,null,null),X=V.exports,Z=r("11a7"),ee=r("ad3d"),te=(r("4de4"),r("2f62"));n["a"].use(te["a"]);var re=new te["a"].Store({state:{favorites:[],recipes:[],favoriteCount:0,isLoggedIn:!1,user:null},mutations:{setRecipes:function(e,t){e.recipes=t},setUser:function(e,t){e.user=t}},actions:{fetchRecipes:function(e){o.get("http://e28-api.wtomaszewska.me/recipe").then((function(t){e.commit("setRecipes",t.data.recipe)}))}},getters:{getRecipeById:function(e){return function(t){return e.recipes.filter((function(e){return e.id==t}),this.id)[0]}}}});r("15f5"),r("7051");n["a"].use(f["a"]),n["a"].component("font-awesome-icon",ee["a"]);var ie=new f["a"]({routes:[{path:"/",component:k},{path:"/add",component:F,meta:{requiresAuth:!0}},{path:"/recipes/:id",component:E,props:!0},{path:"/login",component:H},{path:"/register",component:X},{path:"/noaccess",component:Z["default"]}],mode:"history"});ie.beforeEach(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r,i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.matched.some((function(e){return e.meta.requiresAuth})),n&&!re.state.user?i("/noaccess"):i();case 2:case"end":return e.stop()}}),e)})));return function(t,r,i){return e.apply(this,arguments)}}()),new n["a"]({store:re,router:ie,render:function(e){return e(d)}}).$mount("#app")},5988:function(e,t,r){},"6cf6":function(e,t,r){"use strict";r("0f86")},"85ec":function(e,t,r){},"8c41":function(e,t,r){"use strict";r("a878")},9923:function(e,t,r){"use strict";r("9e42")},"9e42":function(e,t,r){},a4f8:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n}));var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("p",[e._v(" You don't have access to view this page, please log in to your account or register a new one. ")])])}]},a878:function(e,t,r){},c890:function(e,t,r){"use strict";r("1e62")},d3de:function(e,t,r){"use strict";r("ea9f")},e879:function(e,t,r){"use strict";var i=r("3c05"),n=r.n(i);t["default"]=n.a},ea9f:function(e,t,r){},ff92:function(e,t,r){"use strict";r("5988")}});
//# sourceMappingURL=app.5b4037a0.js.map